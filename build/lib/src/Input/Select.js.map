{"version":3,"file":"Select.js","sources":["../../../../src/Input/Select.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Styles from './Input.module.scss';\nimport classNames from 'classnames';\nimport Select from 'react-select';\nimport AsyncSelect from 'react-select/async';\nimport { AsyncPaginate } from 'react-select-async-paginate';\nimport CreatableSelect from 'react-select/creatable';\n\nconst customStyles = {\n  option: (provided, state) => ({\n    ...provided,\n  }),\n  input: (styles) => ({\n    ...styles,\n    margin: 0,\n    padding: 0,\n  }),\n  menu: (styles) => ({\n    ...styles,\n    margin: '2px 0',\n  }),\n  placeholder: (styles) => ({\n    ...styles,\n  }),\n  control: (styles) => ({\n    ...styles,\n    boxShadow: 'none',\n    ':hover': {\n      borderColor: '#a1aab3',\n    },\n  }),\n  valueContainer: (styles) => ({\n    ...styles,\n    padding: '2px 15px',\n    fontSize: '16px',\n  }),\n  singleValue: (styles) => ({\n    ...styles,\n    marginLeft: '0',\n    fontSize: '16px',\n  }),\n};\n\nconst SelectInput = ({ disabled, name, className, label, onChange, classNamePrefix, ...props }) => {\n  const [value, setValue] = useState(props.value || props.defaultValue);\n\n  const optionValue = props?.getOptionValue?.(props.value || props.defaultValue || {});\n  const containerClass = classNames(\n    Styles.container,\n    className,\n    props.isMulti && value && value.length && Styles.active,\n    !props.isMulti && value && Styles.active,\n    disabled && Styles.locked,\n    props.error && Styles.containerError,\n    props.isMulti && Styles.multiContainer\n  );\n\n  const fieldClass = classNames(\n    Styles.select,\n    props.isMulti && Styles.multi,\n    props.error && Styles.error\n  );\n\n  const labelClass = classNames(\n    Styles.label,\n    props.error && Styles.error,\n    props.isMulti && value && value.length && Styles.hasValue,\n    !props.isMulti && value && Styles.hasValue\n  );\n  const handleChange = (event, { action, name }) => {\n    setValue(event);\n    // Pass any other change events from parent\n    try {\n      onChange({ ...event, target: { name, value: event }, action });\n    } catch (err) {}\n  };\n\n  const CustomSelect = props.isPaginated ? AsyncPaginate : props.isAsync ? AsyncSelect : Select;\n  const SelectComponent = props.isCreatable ? CreatableSelect : Select;\n  return (\n    <div className={containerClass}>\n      <CustomSelect\n        className={fieldClass}\n        styles={customStyles}\n        name={name}\n        placeholder={label}\n        selectValue={value}\n        defaultValue={value}\n        onChange={handleChange}\n        additional={{ page: 1 }}\n        SelectComponent={SelectComponent}\n        createOptionPosition={'first'}\n        isDisabled={disabled}\n        classNamePrefix={classNamePrefix}\n        closeMenuOnSelect={!props.isMulti}\n        {...props}\n      />\n\n      <label htmlFor={name} className={labelClass}>\n        {props.error || label}\n      </label>\n    </div>\n  );\n};\n\nSelectInput.propTypes = {\n  classNamePrefix: PropTypes.string,\n};\n\nSelectInput.defaultProps = {\n  menuPlacement: 'auto',\n  classNamePrefix: 's-contact',\n  isAsync: false,\n  isPaginated: false,\n};\n\nexport default SelectInput;\n"],"names":["customStyles","option","provided","state","input","styles","margin","padding","menu","placeholder","control","boxShadow","borderColor","valueContainer","fontSize","singleValue","marginLeft","SelectInput","disabled","name","className","label","onChange","classNamePrefix","props","useState","value","defaultValue","setValue","optionValue","getOptionValue","containerClass","classNames","Styles","container","isMulti","length","active","locked","error","containerError","multiContainer","fieldClass","select","multi","labelClass","hasValue","handleChange","event","action","target","err","CustomSelect","isPaginated","AsyncPaginate","isAsync","AsyncSelect","Select","SelectComponent","isCreatable","CreatableSelect","React","page","propTypes","PropTypes","string","defaultProps","menuPlacement"],"mappings":";;;;;;;;;;;;;;;;AASA,IAAMA,YAAY,GAAG;AACnBC,EAAAA,MAAM,EAAE,gBAACC,QAAD,EAAWC,KAAX;AAAA,6BACHD,QADG;AAAA,GADW;AAInBE,EAAAA,KAAK,EAAE,eAACC,MAAD;AAAA,2CACFA,MADE;AAELC,MAAAA,MAAM,EAAE,CAFH;AAGLC,MAAAA,OAAO,EAAE;AAHJ;AAAA,GAJY;AASnBC,EAAAA,IAAI,EAAE,cAACH,MAAD;AAAA,2CACDA,MADC;AAEJC,MAAAA,MAAM,EAAE;AAFJ;AAAA,GATa;AAanBG,EAAAA,WAAW,EAAE,qBAACJ,MAAD;AAAA,6BACRA,MADQ;AAAA,GAbM;AAgBnBK,EAAAA,OAAO,EAAE,iBAACL,MAAD;AAAA,2CACJA,MADI;AAEPM,MAAAA,SAAS,EAAE,MAFJ;AAGP,gBAAU;AACRC,QAAAA,WAAW,EAAE;AADL;AAHH;AAAA,GAhBU;AAuBnBC,EAAAA,cAAc,EAAE,wBAACR,MAAD;AAAA,2CACXA,MADW;AAEdE,MAAAA,OAAO,EAAE,UAFK;AAGdO,MAAAA,QAAQ,EAAE;AAHI;AAAA,GAvBG;AA4BnBC,EAAAA,WAAW,EAAE,qBAACV,MAAD;AAAA,2CACRA,MADQ;AAEXW,MAAAA,UAAU,EAAE,GAFD;AAGXF,MAAAA,QAAQ,EAAE;AAHC;AAAA;AA5BM,CAArB;;IAmCMG,WAAW,GAAG,SAAdA,WAAc,OAA+E;AAAA;;AAAA,MAA5EC,QAA4E,QAA5EA,QAA4E;AAAA,MAAlEC,IAAkE,QAAlEA,IAAkE;AAAA,MAA5DC,SAA4D,QAA5DA,SAA4D;AAAA,MAAjDC,KAAiD,QAAjDA,KAAiD;AAAA,MAA1CC,QAA0C,QAA1CA,QAA0C;AAAA,MAAhCC,eAAgC,QAAhCA,eAAgC;AAAA,MAAZC,KAAY;;AAAA,kBACvEC,cAAQ,CAACD,KAAK,CAACE,KAAN,IAAeF,KAAK,CAACG,YAAtB,CAD+D;AAAA;AAAA,MAC1FD,KAD0F;AAAA,MACnFE,QADmF;;AAGjG,MAAMC,WAAW,GAAGL,KAAH,aAAGA,KAAH,gDAAGA,KAAK,CAAEM,cAAV,0DAAG,2BAAAN,KAAK,EAAmBA,KAAK,CAACE,KAAN,IAAeF,KAAK,CAACG,YAArB,IAAqC,EAAxD,CAAzB;AACA,MAAMI,cAAc,GAAGC,UAAU,CAC/BC,MAAM,CAACC,SADwB,EAE/Bd,SAF+B,EAG/BI,KAAK,CAACW,OAAN,IAAiBT,KAAjB,IAA0BA,KAAK,CAACU,MAAhC,IAA0CH,MAAM,CAACI,MAHlB,EAI/B,CAACb,KAAK,CAACW,OAAP,IAAkBT,KAAlB,IAA2BO,MAAM,CAACI,MAJH,EAK/BnB,QAAQ,IAAIe,MAAM,CAACK,MALY,EAM/Bd,KAAK,CAACe,KAAN,IAAeN,MAAM,CAACO,cANS,EAO/BhB,KAAK,CAACW,OAAN,IAAiBF,MAAM,CAACQ,cAPO,CAAjC;AAUA,MAAMC,UAAU,GAAGV,UAAU,CAC3BC,MAAM,CAACU,MADoB,EAE3BnB,KAAK,CAACW,OAAN,IAAiBF,MAAM,CAACW,KAFG,EAG3BpB,KAAK,CAACe,KAAN,IAAeN,MAAM,CAACM,KAHK,CAA7B;AAMA,MAAMM,UAAU,GAAGb,UAAU,CAC3BC,MAAM,CAACZ,KADoB,EAE3BG,KAAK,CAACe,KAAN,IAAeN,MAAM,CAACM,KAFK,EAG3Bf,KAAK,CAACW,OAAN,IAAiBT,KAAjB,IAA0BA,KAAK,CAACU,MAAhC,IAA0CH,MAAM,CAACa,QAHtB,EAI3B,CAACtB,KAAK,CAACW,OAAP,IAAkBT,KAAlB,IAA2BO,MAAM,CAACa,QAJP,CAA7B;;AAMA,MAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,SAA6B;AAAA,QAAnBC,MAAmB,SAAnBA,MAAmB;AAAA,QAAX9B,IAAW,SAAXA,IAAW;AAChDS,IAAAA,QAAQ,CAACoB,KAAD,CAAR,CADgD;;AAGhD,QAAI;AACF1B,MAAAA,QAAQ,iCAAM0B,KAAN;AAAaE,QAAAA,MAAM,EAAE;AAAE/B,UAAAA,IAAI,EAAJA,IAAF;AAAQO,UAAAA,KAAK,EAAEsB;AAAf,SAArB;AAA6CC,QAAAA,MAAM,EAANA;AAA7C,SAAR;AACD,KAFD,CAEE,OAAOE,GAAP,EAAY;AACf,GAND;;AAQA,MAAMC,YAAY,GAAG5B,KAAK,CAAC6B,WAAN,GAAoBC,aAApB,GAAoC9B,KAAK,CAAC+B,OAAN,GAAgBC,KAAhB,GAA8BC,KAAvF;AACA,MAAMC,eAAe,GAAGlC,KAAK,CAACmC,WAAN,GAAoBC,SAApB,GAAsCH,KAA9D;AACA,sBACEI;AAAK,IAAA,SAAS,EAAE9B;AAAhB,kBACE8B,oBAAC,YAAD;AACE,IAAA,SAAS,EAAEnB,UADb;AAEE,IAAA,MAAM,EAAE1C,YAFV;AAGE,IAAA,IAAI,EAAEmB,IAHR;AAIE,IAAA,WAAW,EAAEE,KAJf;AAKE,IAAA,WAAW,EAAEK,KALf;AAME,IAAA,YAAY,EAAEA,KANhB;AAOE,IAAA,QAAQ,EAAEqB,YAPZ;AAQE,IAAA,UAAU,EAAE;AAAEe,MAAAA,IAAI,EAAE;AAAR,KARd;AASE,IAAA,eAAe,EAAEJ,eATnB;AAUE,IAAA,oBAAoB,EAAE,OAVxB;AAWE,IAAA,UAAU,EAAExC,QAXd;AAYE,IAAA,eAAe,EAAEK,eAZnB;AAaE,IAAA,iBAAiB,EAAE,CAACC,KAAK,CAACW;AAb5B,KAcMX,KAdN,EADF,eAkBEqC;AAAO,IAAA,OAAO,EAAE1C,IAAhB;AAAsB,IAAA,SAAS,EAAE0B;AAAjC,KACGrB,KAAK,CAACe,KAAN,IAAelB,KADlB,CAlBF,CADF;AAwBD;;AAEDJ,WAAW,CAAC8C,SAAZ,GAAwB;AACtBxC,EAAAA,eAAe,EAAEyC,SAAS,CAACC;AADL,CAAxB;AAIAhD,WAAW,CAACiD,YAAZ,GAA2B;AACzBC,EAAAA,aAAa,EAAE,MADU;AAEzB5C,EAAAA,eAAe,EAAE,WAFQ;AAGzBgC,EAAAA,OAAO,EAAE,KAHgB;AAIzBF,EAAAA,WAAW,EAAE;AAJY,CAA3B;;;;"}