{"version":3,"file":"OrderableSelect.js","sources":["../node_modules/core-js/modules/es.array.splice.js","../node_modules/core-js/internals/add-to-unscopables.js","../node_modules/core-js/modules/es.array.includes.js","../node_modules/core-js/internals/is-regexp.js","../node_modules/core-js/internals/not-a-regexp.js","../node_modules/core-js/internals/correct-is-regexp-logic.js","../node_modules/core-js/modules/es.string.includes.js","../src/Input/OrderableSelect/helpers.jsx","../src/Input/OrderableSelect/components/OrderableMultiValue.jsx","../src/Input/OrderableSelect/OrderableSelect.jsx"],"sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.includes` method\n// https://tc39.es/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.es/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (error1) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (error2) { /* empty */ }\n  } return false;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.es/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~toString(requireObjectCoercible(this))\n      .indexOf(toString(notARegExp(searchString)), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","import React, { useImperativeHandle, useRef } from 'react';\nimport { DragSource, DropTarget } from 'react-dnd';\nimport PropTypes from 'prop-types';\nimport { set } from 'lodash';\n\nexport const orderDragged = (inputArry, dragIndex, hoverIndex) => {\n  const dragedValue = inputArry[dragIndex];\n  const arry = [...inputArry];\n  arry.splice(dragIndex, 1);\n  arry.splice(hoverIndex, 0, dragedValue);\n  return arry;\n};\n\nexport const orderable = (\n  Component,\n  dragType,\n  {\n    getItem = (props) => ({ id: props.id }),\n    getIndex = (props) => props.index,\n    getMoveFnc = (props) => props.moveValue\n  }\n) => {\n  const Orderable = React.forwardRef(\n    ({ isDragging, connectDragSource, connectDropTarget, ...props }, ref) => {\n      const elementRef = useRef(null);\n      connectDragSource(elementRef);\n      connectDropTarget(elementRef);\n      useImperativeHandle(ref, () => ({\n        getNode: () => elementRef.current\n      }));\n      return (\n        <div ref={elementRef}>\n          <Component isDragging={isDragging} {...props} />\n        </div>\n      );\n    }\n  );\n  Orderable.displayName = `Orderable(${Component.displayName ||\n    Component.name ||\n    'Component'})`;\n  Orderable.propTypes = {\n    isDragging: PropTypes.bool.isRequired,\n    connectDragSource: PropTypes.func.isRequired,\n    connectDropTarget: PropTypes.func.isRequired\n  };\n\n  return DropTarget(\n    dragType,\n    {\n      hover(props, monitor, component) {\n        if (!component) {\n          return null;\n        }\n        // node = HTML Div element from imperative API\n        const node = component.getNode();\n        if (!node) {\n          return null;\n        }\n        const dragIndex = monitor.getItem().index;\n        const hoverIndex = getIndex(props);\n        // Don't replace items with themselves\n        if (dragIndex === hoverIndex) {\n          return null;\n        }\n        // Determine rectangle on screen\n        const hoverBoundingRect = node.getBoundingClientRect();\n        // Get vertical middle\n        const hoverMiddleX =\n          (hoverBoundingRect.right - hoverBoundingRect.left) / 2;\n        // Determine mouse position\n        const clientOffset = monitor.getClientOffset();\n        // Get pixels to the top\n        const hoverClientX = clientOffset.x - hoverBoundingRect.left;\n        // Only perform the move when the mouse has crossed half of the items height\n        // When dragging downwards, only move when the cursor is below 50%\n        // When dragging upwards, only move when the cursor is above 50%\n        // Dragging downwards\n        if (dragIndex < hoverIndex && hoverClientX < hoverMiddleX) {\n          return null;\n        }\n        // Dragging upwards\n        if (dragIndex > hoverIndex && hoverClientX > hoverMiddleX) {\n          return null;\n        }\n        // Time to actually perform the action\n        getMoveFnc(props)(dragIndex, hoverIndex);\n        // Note: we're mutating the monitor item here!\n        // Generally it's better to avoid mutations,\n        // but it's good here for the sake of performance\n        // to avoid expensive index searches.\n        monitor.getItem().index = hoverIndex;\n        return null;\n      }\n    },\n    (connect) => ({\n      connectDropTarget: connect.dropTarget()\n    })\n  )(\n    DragSource(\n      dragType,\n      {\n        beginDrag: (props) => set(getItem(props), 'index', getIndex(props))\n      },\n      (connect, monitor) => ({\n        connectDragSource: connect.dragSource(),\n        isDragging: monitor.isDragging()\n      })\n    )(Orderable)\n  );\n};\n","import React from 'react';\nimport { components } from 'react-select';\n\nimport { orderable } from '../helpers';\n\nconst orderConfig = {\n  getItem: (props) => ({ value: props.selectProps.getOptionValue(props.data) }),\n  getIndex: (props) => props.data.index,\n  getMoveFnc: (props) => props.selectProps.moveDraggedOption\n};\n\n// Wrap component to be draggable and droppable\nconst OrderableMultiValue = orderable(\n  components.MultiValue,\n  'multiValue',\n  orderConfig\n);\n\n/**\n * Select's Control component prevents default on a MouseDown event\n * this component stops propagation of that event for the default - begginDrag - actually happen.\n */\nexport default (props) => (\n  <div\n    className=\"s-contact__multi-value-orderable\"\n    onMouseDown={(e) => {\n      e.stopPropagation();\n    }}>\n    <OrderableMultiValue {...props} />\n  </div>\n);\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Styles from '../Input.module.scss';\nimport classNames from 'classnames';\nimport Select, { components } from 'react-select';\nimport AsyncSelect from 'react-select/async';\nimport AsyncPaginate from 'react-select-async-paginate';\nimport CreatableSelect from 'react-select/creatable';\nimport { set } from 'lodash';\n\nimport { DragDropContext } from 'react-dnd';\nimport HTML5Backend from 'react-dnd-html5-backend';\n\nimport OrderableMultiValue from './components/OrderableMultiValue';\nimport { orderDragged } from './helpers';\n\nclass SortableSelect extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // active: (props.locked && props.active) || false,\n      active: props.active || false,\n      value: props.value.map((o, i) => set(o, 'index', i)) || '',\n      error: props.error || '',\n      label: props.label || 'Label',\n      hasValue: false,\n    };\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    // This really shouldnt be used but I'm not aware of a better technique to update state from props\n    if (props.error !== state.error) {\n      state.error = props.error || '';\n      if (state.error) {\n        state.hasValue = true;\n      }\n    }\n\n    if (props.value !== state.value) {\n      state.value = props.value || '';\n    }\n\n    if (props.value) {\n      if (props.value.length > 0 || Object.keys(props.value).length > 0) {\n        state.hasValue = true;\n      }\n    }\n    return state;\n  }\n\n  handleChange = (event, { action, name }) => {\n    let optionLabel, optionValue;\n    /* \n      See documentation: https://react-select.com/props\n    */\n    if (action === 'select-option') {\n      try {\n        optionLabel = this.props.getOptionLabel(event);\n        optionValue = this.props.getOptionValue(event);\n      } catch (err) {\n        // pass\n      }\n\n      if (event && event.value) {\n        this.setState({\n          hasValue: true,\n          selectValue: event.value,\n        });\n      } else if (optionLabel && optionValue) {\n        this.setState({\n          hasValue: true,\n          selectValue: optionValue,\n        });\n      } else {\n        // Fallback\n        this.setState({\n          selectValue: null,\n          hasValue: false,\n          isClearable: true,\n        });\n      }\n    } else if (action === 'remove-value' || action === 'clear') {\n      this.setState({\n        selectValue: null,\n        hasValue: false,\n        isClearable: true,\n      });\n    } else {\n      // fallback, remove\n      this.setState({\n        hasValue: false,\n        selectValue: null,\n        isClearable: true,\n      });\n    }\n\n    // Pass any other change events from parent\n    try {\n      this.props.onChange({ ...event, target: { name, value: event } });\n    } catch (err) {\n      console.error(err);\n      // pass\n    }\n  };\n\n  handleKeyPress = (event) => {\n    // For passing up keypresses + autoSortableSelect\n    // console.log('handleKeyPress');\n    if (event.which === 13) {\n      this.setState({ value: this.props.predicted });\n    }\n\n    try {\n      this.props.onKeyPress(event);\n    } catch (err) {\n      return;\n    }\n  };\n\n  handleFocus = (event) => {\n    if (this.props.locked) {\n      this.stateState({ active: true });\n    }\n    try {\n      this.props.onFocus(event);\n    } catch (err) {\n      return;\n    }\n  };\n\n  handleBlur = (event) => {\n    if (this.props.locked) {\n      this.stateState({ active: false });\n    }\n    try {\n      this.props.onBlur(event);\n    } catch (err) {\n      return;\n    }\n  };\n\n  moveDraggedOption = (dragIndex, hoverIndex) => {\n    const initialList = this.state.value;\n    if (hoverIndex >= initialList.length) {\n      let k = hoverIndex - initialList.length + 1;\n      while (k--) {\n        initialList.push(undefined);\n      }\n    }\n    initialList.splice(hoverIndex, 0, initialList.splice(dragIndex, 1)[0]);\n    // initialList.map((o, i) => set(o, 'index', i))\n    this.setState((state) => ((state.value = initialList), state));\n  };\n\n  render() {\n    const { active, value, label } = this.state;\n    const { predicted, locked, name, required } = this.props;\n\n    const fieldClassName = classNames(\n      Styles.container,\n      ((locked ? active : active || value.length) || this.state.error) && Styles.active,\n      locked && !active && Styles.locked,\n      this.props.isMulti ? Styles.multiContainer : ''\n    );\n\n    const customStyles = {\n      menu: (styles) => ({\n        ...styles,\n        margin: '2px 0',\n      }),\n      control: (styles) => ({\n        ...styles,\n        boxShadow: 'none',\n        ':hover': {\n          borderColor: '#a1aab3',\n        },\n      }),\n      valueContainer: (styles) => ({\n        ...styles,\n        padding: '2px 15px',\n        fontSize: '16px',\n      }),\n      singleValue: (styles) => ({\n        ...styles,\n        marginLeft: '0',\n        fontSize: '16px',\n      }),\n      multiValue: (styles, { isDragging }) => ({\n        ...styles,\n        margin: '0',\n        opacity: isDragging ? 0.5 : null,\n      }),\n    };\n\n    let CustomSelect;\n    if (this.props.isPaginated) {\n      CustomSelect = AsyncPaginate;\n    } else if (this.props.isAsync) {\n      CustomSelect = AsyncSelect;\n    } else {\n      CustomSelect = Select;\n    }\n\n    let SelectComponent;\n    if (this.props.isCreatable) {\n      SelectComponent = CreatableSelect;\n    } else {\n      SelectComponent = Select;\n    }\n\n    return (\n      <div className={fieldClassName}>\n        {active && value && predicted && predicted.includes(value) && (\n          <p className={Styles.predicted}>{predicted}</p>\n        )}\n        <CustomSelect\n          className={classNames(\n            Styles.select,\n            Styles.field,\n            this.props.isMulti ? Styles.multi : ''\n          )}\n          classNamePrefix='s-contact'\n          name={name}\n          menuPlacement={this.props.menuPlacement || `auto`}\n          styles={customStyles}\n          placeholder={label}\n          selectValue={value}\n          defaultValue={value}\n          value={value && value.map((o, i) => set(o, 'index', i))}\n          required={required}\n          isClearable={this.props.isClearable}\n          getOptionLabel={this.props.getOptionLabel}\n          getOptionValue={this.props.getOptionValue}\n          options={this.props.options}\n          onChange={this.handleChange}\n          isMulti={this.props.isMulti}\n          loadOptions={this.props.loadOptions}\n          onInputChange={this.props.onInputChange}\n          additional={{ page: 1 }}\n          SelectComponent={SelectComponent}\n          onCreateOption={this.props.onCreateOption}\n          createOptionPosition={'first'}\n          components={{ MultiValue: OrderableMultiValue }}\n          moveDraggedOption={this.moveDraggedOption}\n          closeMenuOnSelect={!this.props.isMulti}\n        />\n        <label\n          htmlFor={name}\n          className={classNames(\n            Styles.label,\n            this.state.error && Styles.error,\n            this.state.hasValue && Styles.hasValue\n          )}>\n          {this.state.error || label}\n        </label>\n      </div>\n    );\n  }\n}\n\nSortableSelect.propTypes = {\n  name: PropTypes.string.isRequired,\n  menuPlacement: PropTypes.string,\n  options: PropTypes.array,\n  locked: PropTypes.bool,\n  active: PropTypes.bool,\n  error: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n  isClearable: PropTypes.bool,\n  predicted: PropTypes.bool,\n  required: PropTypes.bool,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.array, PropTypes.object]),\n  label: PropTypes.string,\n  onChange: PropTypes.func,\n  onKeyPress: PropTypes.func,\n  onBlur: PropTypes.func,\n  getOptionLabel: PropTypes.func,\n  getOptionValue: PropTypes.func,\n  onFocus: PropTypes.func,\n  isAsync: PropTypes.bool,\n  isPaginated: PropTypes.bool,\n  isCreatable: PropTypes.bool,\n  loadOptions: PropTypes.func,\n  onInputChange: PropTypes.func,\n};\n\nSortableSelect.defaultProps = {\n  isAsync: false,\n  isPaginated: false,\n  isCreatable: false,\n};\nexport default DragDropContext(HTML5Backend)(SortableSelect);\n"],"names":["HAS_SPECIES_SUPPORT","arrayMethodHasSpeciesSupport","max","Math","min","$","target","proto","forced","splice","start","deleteCount","insertCount","actualDeleteCount","A","k","from","to","O","toObject","this","len","toLength","length","actualStart","toAbsoluteIndex","argumentsLength","arguments","toInteger","TypeError","arraySpeciesCreate","createProperty","UNSCOPABLES","wellKnownSymbol","ArrayPrototype","Array","prototype","undefined","definePropertyModule","f","configurable","value","create","key","$includes","require$$0","includes","el","MATCH","it","isRegExp","isObject","classof","METHOD_NAME","regexp","error1","error2","correctIsRegExpLogic","searchString","toString","requireObjectCoercible","indexOf","notARegExp","Component","dragType","getItem","getIndex","getMoveFnc","Orderable","OrderableMultiValue","components","MultiValue","props","selectProps","getOptionValue","data","index","moveDraggedOption","id","moveValue","React","forwardRef","ref","isDragging","connectDragSource","connectDropTarget","elementRef","useRef","useImperativeHandle","getNode","current","displayName","name","propTypes","PropTypes","bool","isRequired","func","DropTarget","hover","monitor","component","node","dragIndex","hoverIndex","hoverBoundingRect","getBoundingClientRect","hoverMiddleX","right","left","hoverClientX","getClientOffset","x","connect","dropTarget","DragSource","beginDrag","set","dragSource","className","onMouseDown","e","stopPropagation","SortableSelect","handleChange","event","optionLabel","optionValue","action","_this","getOptionLabel","err","setState","hasValue","selectValue","isClearable","onChange","console","error","handleKeyPress","which","predicted","onKeyPress","handleFocus","locked","stateState","active","onFocus","handleBlur","onBlur","initialList","state","push","map","o","i","label","CustomSelect","SelectComponent","required","fieldClassName","classNames","Styles","container","isMulti","multiContainer","customStyles","menu","styles","margin","control","boxShadow","borderColor","valueContainer","padding","fontSize","singleValue","marginLeft","multiValue","opacity","isPaginated","AsyncPaginate","isAsync","AsyncSelect","Select","isCreatable","CreatableSelect","select","field","multi","classNamePrefix","menuPlacement","placeholder","defaultValue","options","loadOptions","onInputChange","additional","page","onCreateOption","createOptionPosition","closeMenuOnSelect","htmlFor","Object","keys","string","array","oneOfType","object","defaultProps","DragDropContext","HTML5Backend"],"mappings":"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"}